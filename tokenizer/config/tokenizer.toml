[prep]
source_db = "../../output/anilist.sqlite"
out_dir = "../output"
rebuild = true
export_parquet = true
limit = 0

[embedd]
tokenizer_db = "../output/tokenizer.sqlite"
rebuild = true
limit = 0
model_name = "tencent/KaLM-Embedding-Gemma3-12B-2511"
batch_size = 8
max_length = 2048
device = "auto"
normalize = true

[rqvae]
tokenizer_db = "../output/tokenizer.sqlite"
out_dir = "../output/rqvae"
rebuild = true
limit = 0
device = "auto"
seed = 42
batch_size = 256
epochs = 40
num_workers = 4
val_ratio = 0.05
lr = 0.00004
adam_beta1 = 0.5
adam_beta2 = 0.9
warmup_steps = 1000
latent_dim = 256
rq_levels = 8
codebook_size = 2048
commitment_beta = 0.25
ema_decay = 0.99
ema_eps = 0.00001
restart_unused_codes = true
amp = true
checkpoint_every = 1
encoder_hidden_dim = 1024
decoder_hidden_dim = 1024
dry_run = false
dry_run_limit = 512
dry_run_epochs = 1
dry_run_batch_size = 32
dry_run_num_workers = 0
dry_run_out_subdir = "dry_run"
env_file = "../.env"
wandb_enabled = false
wandb_mode = "offline"
wandb_project = ""
wandb_entity = ""
wandb_api_key = ""
wandb_run_name = ""
wandb_group = ""
wandb_tags = []
wandb_project_env = "WANDB_PROJECT"
wandb_entity_env = "WANDB_ENTITY"
wandb_api_key_env = "WANDB_API_KEY"
